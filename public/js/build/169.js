/*! For license information please see 169.js.LICENSE.txt */
(self.webpackChunkDooTask=self.webpackChunkDooTask||[]).push([[169],{13698:function(t){t.exports=function(){return e={686:function(t,e,n){"use strict";n.d(e,{default:function(){return b}}),e=n(279);var o=n.n(e),r=(e=n(370),n.n(e)),i=(e=n(817),n.n(e));function c(t){try{return document.execCommand(t)}catch(t){return}}var a=function(t){return t=i()(t),c("cut"),t};function s(t,e){var n,o;return n=t,o="rtl"===document.documentElement.getAttribute("dir"),(t=document.createElement("textarea")).style.fontSize="12pt",t.style.border="0",t.style.padding="0",t.style.margin="0",t.style.position="absolute",t.style[o?"right":"left"]="-9999px",o=window.pageYOffset||document.documentElement.scrollTop,t.style.top="".concat(o,"px"),t.setAttribute("readonly",""),t.value=n,e.container.appendChild(t),e=i()(t),c("copy"),t.remove(),e}var u=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"==typeof t?n=s(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==t?void 0:t.type)?n=s(t.value,e):(n=i()(t),c("copy")),n};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=function(){var t=void 0===(n=(o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).action)?"copy":n,e=o.container,n=o.target,o=o.text;if("copy"!==t&&"cut"!==t)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==n){if(!n||"object"!==l(n)||1!==n.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===t&&n.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===t&&(n.hasAttribute("readonly")||n.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return o?u(o,{container:e}):n?"cut"===t?a(n):u(n,{container:e}):void 0};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);return n=e?(n=h(this).constructor,Reflect.construct(o,arguments,n)):o.apply(this,arguments),o=this,!n||"object"!==d(n)&&"function"!=typeof n?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(o):n}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if(t="data-clipboard-".concat(t),e.hasAttribute(t))return e.getAttribute(t)}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(c,o());var t,e,n,i=y(c);function c(t,e){var n;return function(t){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}(this),(n=i.call(this)).resolveOptions(e),n.listenClick(t),n}return t=c,n=[{key:"copy",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{container:document.body};return u(t,e)}},{key:"cut",value:function(t){return a(t)}},{key:"isSupported",value:function(){var t="string"==typeof(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"])?[t]:t,e=!!document.queryCommandSupported;return t.forEach((function(t){e=e&&!!document.queryCommandSupported(t)})),e}}],(e=[{key:"resolveOptions",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=r()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy";t=f({action:n,container:this.container,target:this.target(e),text:this.text(e)}),this.emit(t?"success":"error",{action:n,text:t,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return m("action",t)}},{key:"defaultTarget",value:function(t){if(t=m("target",t))return document.querySelector(t)}},{key:"defaultText",value:function(t){return m("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}])&&p(t.prototype,e),n&&p(t,n),c}()},828:function(t){var e;"undefined"==typeof Element||Element.prototype.matches||((e=Element.prototype).matches=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},438:function(t,e,n){var o=n(828);function r(t,e,n,r,i){var c=function(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&r.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,c,i),{destroy:function(){t.removeEventListener(n,c,i)}}}t.exports=function(t,e,n,o,i){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,n,o,i)})))}},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},370:function(t,e,n){var o=n(879),r=n(438);t.exports=function(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!o.string(e))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(t))return u=e,l=n,(s=t).addEventListener(u,l),{destroy:function(){s.removeEventListener(u,l)}};if(o.nodeList(t))return i=t,c=e,a=n,Array.prototype.forEach.call(i,(function(t){t.addEventListener(c,a)})),{destroy:function(){Array.prototype.forEach.call(i,(function(t){t.removeEventListener(c,a)}))}};if(o.string(t))return r(document.body,t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,c,a,s,u,l}},817:function(t){t.exports=function(t){var e,n="SELECT"===t.nodeName?(t.focus(),t.value):"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName?((e=t.hasAttribute("readonly"))||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),e||t.removeAttribute("readonly"),t.value):(t.hasAttribute("contenteditable")&&t.focus(),n=window.getSelection(),(e=document.createRange()).selectNodeContents(t),n.removeAllRanges(),n.addRange(e),n.toString());return n}},279:function(t){function e(){}e.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,c=o.length;i<c;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},n={},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t(686).default;function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}var e,n}()},90824:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var o=n(76798),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,".block-svn-name{color:#fff;font-size:1.3em;line-height:2.5em}.block-title{line-height:2em}@media only screen and (max-width:767px){.repo-url{display:block!important}}",""]);const i=r},95681:(t,e,n)=>{var o=n(13698),r={autoSetContainer:!1,appendToBody:!0},i={install:function(t){var e="3."===t.version.slice(0,2)?t.config.globalProperties:t.prototype;e.$clipboardConfig=r,e.$copyText=function(t,e){return new Promise((function(n,i){var c=document.createElement("button"),a=new o(c,{text:function(){return t},action:function(){return"copy"},container:"object"==typeof e?e:document.body});a.on("success",(function(t){a.destroy(),n(t)})),a.on("error",(function(t){a.destroy(),i(t)})),r.appendToBody&&document.body.appendChild(c),c.click(),r.appendToBody&&document.body.removeChild(c)}))},t.directive("clipboard",{bind:function(t,e,n){if("success"===e.arg)t._vClipboard_success=e.value;else if("error"===e.arg)t._vClipboard_error=e.value;else{var i=new o(t,{text:function(){return e.value},action:function(){return"cut"===e.arg?"cut":"copy"},container:r.autoSetContainer?t:void 0});i.on("success",(function(e){var n=t._vClipboard_success;n&&n(e)})),i.on("error",(function(e){var n=t._vClipboard_error;n&&n(e)})),t._vClipboard=i}},update:function(t,e){"success"===e.arg?t._vClipboard_success=e.value:"error"===e.arg?t._vClipboard_error=e.value:(t._vClipboard.text=function(){return e.value},t._vClipboard.action=function(){return"cut"===e.arg?"cut":"copy"})},unbind:function(t,e){t._vClipboard&&("success"===e.arg?delete t._vClipboard_success:"error"===e.arg?delete t._vClipboard_error:(t._vClipboard.destroy(),delete t._vClipboard))}})},config:r};t.exports=i},63169:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>y});var o=n(62893),r=n(95681),i=n.n(r),c=n(95353);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o.default.use(i());const l={components:{},data:function(){return{RepoList:[],RepoSelectedID:-1,RepoWanURL:"",RepoLanURL:"",SecretKey:"",RepoLogs:[]}},mounted:function(){this.RefreshRepoList()},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},(0,c.aH)(["userIsAdmin","userInfo"])),methods:{GetSecretKey:function(){var t=this;this.$store.dispatch("call",{url:"svn/key"}).then((function(e){var n=e.data;t.SecretKey=n})).catch((function(t){var e=t.msg;$A.modalError(e)}))},RefreshRepoList:function(){var t=this;this.$store.dispatch("call",{url:"svn/lists"}).then((function(e){var n=e.data;t.RepoList=n})).catch((function(t){var e=t.msg;$A.modalError(e)}))},SelectRepo:function(t){var e=this;this.RepoSelectedID!=t&&(this.RepoSelectedID=t,this.RepoLogs=[],this.$store.dispatch("call",{url:"svn/info?id="+t}).then((function(t){var n=t.data;e.RepoWanURL=n.url_wan,e.RepoLanURL=n.url_lan})).catch((function(t){var e=t.msg;$A.modalError(e)})))},LoadLog:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.RepoLogs=[]),this.RepoLogs.push({version:0,user:"用户",date:"时间",log:"日志 ！未实现！"})},CopyText:function(t){this.$copyText(t).then((function(t){$A.noticeSuccess("复制成功")}),(function(t){$A.noticeError("复制失败")}))},CopySecretKey:function(){var t=this;""!=this.SecretKey?this.CopyText(this.SecretKey):this.$store.dispatch("call",{url:"svn/key"}).then((function(e){var n=e.data;t.CopyText(n)})).catch((function(t){var e=t.msg;$A.modalError(e)}))}}};var f=n(85072),d=n.n(f),p=n(90824),v={insert:"head",singleton:!1};d()(p.A,v);p.A.locals;const y=(0,n(14486).A)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-file page-dashboard"},[e("PageTitle",{attrs:{title:t.$L("SVN仓库")}}),t._v(" "),e("div",{staticClass:"file-wrapper dashboard-wrapper"},[e("div",{staticClass:"file-head"},[e("div",{staticClass:"file-nav"},[e("h1",[t._v(t._s(t.$L("SVN仓库")))])]),t._v(" "),e("div",{staticClass:"file-add"},[e("Button",{attrs:{shape:"circle",icon:"md-refresh"},on:{click:t.RefreshRepoList}})],1)]),t._v(" "),e("ul",{staticClass:"dashboard-block"},t._l(t.RepoList,(function(n){return e("li",{key:n.id,on:{click:function(e){return t.SelectRepo(n.id)}}},[e("div",{staticClass:"block-svn-name"},[t._v(t._s(n.name))]),t._v(" "),e("div",{staticClass:"block-title"},[t._v("今日提交："+t._s(n.info?n.info.commits_today:-1))]),t._v(" "),e("div",{staticClass:"block-title"},[t._v("总提交量："+t._s(n.info?n.info.commits_total:-1))])])})),0),t._v(" "),e("div",{staticClass:"dashboard-list overlay-y"},[e("div",{staticClass:"dashboard-title"},[t._v("\n                登录信息\n                "),e("Button",{staticStyle:{"padding-left":"10px"},attrs:{shape:"circle",icon:"md-eye"},on:{click:t.GetSecretKey}})],1),t._v(" "),e("ul",{staticClass:"dashboard-ul"},[e("li",{on:{click:function(e){return t.CopyText(t.userInfo.email)}}},[e("div",{staticClass:"item-title"},[t._v("\n                        登录账户   \n                        "),e("span",{staticClass:"start"},[t._v(t._s(t.userInfo.email))])]),t._v(" "),t._m(0)]),t._v(" "),e("li",{on:{click:t.CopySecretKey}},[e("div",{staticClass:"item-title"},[t._v("\n                        登录密钥   \n                        "),e("span",{staticClass:"start"},[t._v(t._s(t.SecretKey?t.SecretKey:"********"))])]),t._v(" "),t._m(1)])]),t._v(" "),e("div",{staticClass:"dashboard-title"},[t._v("仓库信息")]),t._v(" "),t.RepoSelectedID>0?e("ul",{staticClass:"dashboard-ul"},[e("li",{on:{click:function(e){return t.CopyText(t.RepoWanURL)}}},[e("div",{staticClass:"item-title"},[t._v("\n                        仓库URL   \n                        "),e("span",{staticClass:"repo-url"},[t._v(t._s(t.RepoWanURL))])]),t._v(" "),t._m(2)]),t._v(" "),e("li",{on:{click:function(e){return t.CopyText(t.RepoLanURL)}}},[e("div",{staticClass:"item-title"},[t._v("\n                        内网URL   \n                        "),e("span",{staticClass:"repo-url"},[t._v(t._s(t.RepoLanURL))])]),t._v(" "),t._m(3)])]):e("ul",{staticClass:"dashboard-ul"},[e("div",{staticStyle:{color:"gray","font-size":"small"}},[t._v("选择仓库以显示信息")])]),t._v(" "),e("div",{staticClass:"dashboard-title"},[t._v("仓库日志")]),t._v(" "),t.RepoSelectedID>0?e("ul",{staticClass:"dashboard-ul"},[t._v(" 未实现\n                "),t._l(t.RepoLogs,(function(n){return e("li",{key:n.version},[e("div",{staticClass:"item-title"},[e("span",[t._v("v"+t._s(n.version))]),t._v("\n                        "+t._s(n.user)+" : "+t._s(n.log)+"\n                    ")]),t._v(" "),e("div",{staticClass:"item-icon"},[e("i",{staticClass:"taskfont"},[t._v("")]),t._v(" "),e("em",[t._v(t._s(n.date))])])])})),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[e("Button",{on:{click:t.LoadLog}},[t._v("加载日志")])],1)],2):e("ul",{staticClass:"dashboard-ul"},[e("div",{staticStyle:{color:"gray","font-size":"small"}},[t._v("选择仓库以获取日志")])])])])],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-icon"},[e("i",{staticClass:"taskfont"},[t._v("")]),t._v(" "),e("em",[t._v("点击复制")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-icon"},[e("i",{staticClass:"taskfont"},[t._v("")]),t._v(" "),e("em",[t._v("点击复制")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-icon"},[e("i",{staticClass:"taskfont"},[t._v("")]),t._v(" "),e("em",[t._v("点击复制")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"item-icon"},[e("i",{staticClass:"taskfont"},[t._v("")]),t._v(" "),e("em",[t._v("点击复制")])])}],!1,null,null,null).exports}}]);